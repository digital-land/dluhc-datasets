{% extends 'layouts/base.html' %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-three-quarters">
    <h1 class="govuk-heading-l">DLUHC Dataset Editor</h1>
  </div>
</div>
<div class="govuk-grid-row">
  <div class="govuk-grid-column-three-quarters">
    <p class="govuk-body"><a href="{{ url_for('main.dataset', name=dataset.dataset) }}"">{{ dataset.name }}</a></p>
  </div>
</div>
{% if error_list %}
  {{ govukErrorSummary({
      "titleText": "There is a problem",
      "errorList": error_list
    })
  }}
{% endif %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-three-quarters">
  <form method="POST" action="{{ url_for('main.add_record', dataset=dataset.dataset) }}">
    <div class="govuk-form-group">
      {% for field in form_fields %}
        {% if form.errors[field.field] %}
        {% set classes = 'govuk-input--error' %}
        {% else %}
        {% set classes = '' %}
        {% endif %}
        {{ govukInput({
            "label": {
              "text": field.name,
              "classes": classes.
            },
            "id": field.field,
            "name": field.field
            })
        }}
      {% endfor %}
      {{ form.csrf_token }}
    </div>
    <input type="submit" value="Add">
  </form>
</div>
{% endblock content %}
